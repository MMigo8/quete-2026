<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ® La QuÃªte 2026</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: linear-gradient(135deg, #1f2933, #111827);
  color: #f9fafb;
  padding: 24px;
}

h1 {
  text-align: center;
}

#current-month {
  text-align: center;
  opacity: 0.8;
  margin-bottom: 10px;
}

.section {
  background: rgba(255,255,255,0.05);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 20px;
}

.task {
  display: flex;
  gap: 10px;
  margin: 8px 0;
}

input[type="checkbox"] {
  width: 20px;
  height: 20px;
  accent-color: #60a5fa;
}

.reward {
  font-style: italic;
  opacity: 0.7;
  margin-top: 6px;
}

#progress-container {
  height: 22px;
  background: rgba(255,255,255,0.15);
  border-radius: 999px;
  margin: 20px 0;
}

#progress-bar {
  height: 100%;
  width: 0%;
  background: #60a5fa;
  transition: width 0.3s ease;
}

#progress-text {
  text-align: center;
  font-weight: bold;
}

footer {
  text-align: center;
  opacity: 0.6;
  margin-top: 40px;
}
</style>
</head>

<body>

<h1>ğŸ® La QuÃªte 2026</h1>
<p id="current-month"></p>

<div id="progress-container">
  <div id="progress-bar"></div>
</div>
<p id="progress-text">0% accompli</p>

<!-- SECTIONS -->

<div class="section">
<h2>ğŸŒ± Prendre soin de soi</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Dire non Ã  quelque chose qui me pÃ¨se</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Prendre un moment solo</div>
<div class="task"><input class="task-checkbox" type="checkbox"> MÃ©diter 5 minutes</div>
<div class="reward">ğŸ Bien-Ãªtre assurÃ©</div>
</div>

<div class="section">
<h2>ğŸ¬ Films & sÃ©ries</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Revoir un Ã©pisode comfort</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Noter une Ã©motion</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Ã‰crire une mini review</div>
<div class="reward">ğŸ CÅ“ur lÃ©ger</div>
</div>

<div class="section">
<h2>âœï¸ CrÃ©ation</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Ã‰crire une idÃ©e fun</div>
<div class="task"><input class="task-checkbox" type="checkbox"> CrÃ©er sans finir</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Avancer le livre audio</div>
<div class="reward">ğŸ Dopamine crÃ©ative</div>
</div>

<div class="section">
<h2>ğŸ® Jeux</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Jouer 30 min</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Gagner un mini dÃ©fi</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Tester un nouveau jeu</div>
<div class="reward">ğŸ Fun garanti</div>
</div>

<div class="section">
<h2>ğŸ¤ Social</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Message sympa</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Moment chill avec Mael</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Partager un souvenir</div>
<div class="reward">ğŸ Sourires partagÃ©s</div>
</div>

<div class="section">
<h2>âœ¨ Bonus</h2>
<div class="task"><input class="task-checkbox" type="checkbox"> Moment rÃ©confort</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Rien faire sans culpabiliser</div>
<div class="task"><input class="task-checkbox" type="checkbox"> Me remercier</div>
<div class="reward">ğŸ SÃ©rÃ©nitÃ© max</div>
</div>

<footer>Tu peux revenir ici juste pour cocher une case ğŸ’›</footer>

<!-- SONS -->
<audio id="sound-ding" src="https://www.myinstants.com/media/sounds/ding-sound-effect.mp3"></audio>
<audio id="sound-section" src="https://www.myinstants.com/media/sounds/wow-anime-meme-55752.mp3"></audio>

<!-- CONFETTIS -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<!-- SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", () => {

const checkboxes = document.querySelectorAll(".task-checkbox");
const bar = document.getElementById("progress-bar");
const text = document.getElementById("progress-text");
const ding = document.getElementById("sound-ding");
const sectionSound = document.getElementById("sound-section");
const monthText = document.getElementById("current-month");

const now = new Date();
const monthKey = now.getFullYear() + "-" + String(now.getMonth()+1).padStart(2,"0");
const monthLabel = now.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});
monthText.textContent = "ğŸ“… " + monthLabel;

const lastMonth = localStorage.getItem("currentMonth");

if(lastMonth && lastMonth !== monthKey){
  const archive = [];
  checkboxes.forEach(cb => archive.push(cb.checked));
  localStorage.setItem("archive-"+lastMonth, JSON.stringify(archive));
  checkboxes.forEach(cb => cb.checked = false);
  localStorage.clear();

  setTimeout(()=>{
    confetti({particleCount:200,spread:120});
    alert("ğŸŒ± Nouveau mois, nouvelle quÃªte");
  },300);
}

localStorage.setItem("currentMonth", monthKey);

function update(){
  const done = [...checkboxes].filter(c=>c.checked).length;
  const percent = Math.round((done/checkboxes.length)*100);
  bar.style.width = percent+"%";
  text.textContent = percent+"% accompli";
}

function save(){
  checkboxes.forEach((c,i)=>localStorage.setItem("cb"+i,c.checked));
}

function load(){
  checkboxes.forEach((c,i)=>c.checked = localStorage.getItem("cb"+i)==="true");
  update();
}

checkboxes.forEach(cb=>{
  cb.addEventListener("change",()=>{
    if(cb.checked){
      ding.currentTime=0; ding.play();
      confetti({particleCount:20,spread:60});
      const section = cb.closest(".section");
      const all = section.querySelectorAll(".task-checkbox");
      if([...all].every(c=>c.checked)){
        sectionSound.currentTime=0; sectionSound.play();
        confetti({particleCount:250,spread:140});
      }
    }
    update(); save();
  });
});

load();
});
</script>

</body>
</html>
