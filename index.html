<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La QuÃªte 2026 â€“ Mode Confort</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #1f2933, #111827);
      color: #f9fafb;
      padding: 24px;
    }
    h1 { text-align: center; font-size: 2rem; margin-bottom: 16px; }
    h2 { margin-top: 24px; font-size: 1.4rem; }
    .section { background: rgba(255,255,255,0.05); border-radius: 12px; padding: 16px; margin-bottom: 16px; }
    .task { display: flex; align-items: center; gap: 8px; margin: 8px 0; }
    .task input { width: 20px; height: 20px; accent-color: #60a5fa; }
    .reward { font-style: italic; opacity: 0.8; margin-top: 8px; }
    button { margin-top: 16px; padding: 8px 12px; border-radius: 999px; border: none; background: #60a5fa; color: #0f172a; cursor: pointer; }
    button:hover { background: #93c5fd; }
    footer { text-align: center; margin-top: 32px; opacity: 0.6; font-size: 0.9rem; }

    /* Bandeau nouveau mois */
    #new-month-banner {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #60a5fa;
      color: #0f172a;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: bold;
      display: none;
      z-index: 9999;
    }
  </style>
  <!-- Librairie confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
  <h1>ğŸ® La QuÃªte 2026</h1>

  <!-- Barre de progression globale -->
  <div id="progress-container" style="background: rgba(255,255,255,0.1); border-radius: 12px; margin: 16px 0; height: 24px;">
    <div id="progress-bar" style="width: 0%; height: 100%; background: #60a5fa; border-radius: 12px;"></div>
  </div>
  <p id="progress-text" style="text-align:center; margin-bottom: 24px; font-weight: bold; color: #f9fafb;">0% accompli</p>

  <!-- Bandeau Nouveau mois -->
  <div id="new-month-banner">âœ¨ Nouveau mois ! Toutes les cases ont Ã©tÃ© rÃ©initialisÃ©es âœ¨</div>

  <!-- SECTIONs -->
  <!-- 1ï¸âƒ£ Prendre soin de soi -->
  <div class="section">
    <h2>ğŸŒ± Prendre soin de soi</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Dire non Ã  quelque chose qui me pÃ¨se</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Prendre un moment solo</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> MÃ©diter 5 min</div>
    <div class="reward">ğŸ Bien-Ãªtre assurÃ©</div>
  </div>

  <!-- 2ï¸âƒ£ Films et sÃ©ries -->
  <div class="section">
    <h2>ğŸ¬ Films et sÃ©ries</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Revoir un Ã©pisode prÃ©fÃ©rÃ©</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Noter une Ã©motion ressentie</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Ã‰crire une mini review</div>
    <div class="reward">ğŸ CÅ“ur lÃ©ger</div>
  </div>

  <!-- 3ï¸âƒ£ CrÃ©ation & Ã©criture -->
  <div class="section">
    <h2>âœï¸ CrÃ©ation & Ã©criture</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Ã‰crire une idÃ©e pour une histoire</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> CrÃ©er un petit dessin / croquis</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Travailler sur le livre audio</div>
    <div class="reward">ğŸ Dopamine crÃ©ative</div>
  </div>

  <!-- 4ï¸âƒ£ Jeux et divertissement -->
  <div class="section">
    <h2>ğŸ® Jeux et divertissement</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Jouer 30 min Ã  un jeu prÃ©fÃ©rÃ©</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Essayer un nouveau challenge</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Cocher une victoire dans un mini-game</div>
    <div class="reward">ğŸ Fun garanti</div>
  </div>

  <!-- 6ï¸âƒ£ Social et liens -->
  <div class="section">
    <h2>ğŸ¤ Social et liens</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Envoyer un message sympa Ã  un ami</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Partager un moment fun avec Mael</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Montrer un objet spÃ©cial / collection</div>
    <div class="reward">ğŸ Sourires partagÃ©s</div>
  </div>

  <!-- 7ï¸âƒ£ DÃ©veloppement personnel -->
  <div class="section">
    <h2>ğŸ§  DÃ©veloppement personnel</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Essayer une nouvelle activitÃ© / hobby</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Lire un chapitre ou un article inspirant</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Tester une nouvelle compÃ©tence</div>
    <div class="reward">ğŸ FiertÃ© intÃ©rieure</div>
  </div>

  <!-- 10ï¸âƒ£ Misc / bonus -->
  <div class="section">
    <h2>âœ¨ Bonus & rÃ©confort</h2>
    <div class="task"><input type="checkbox" class="task-checkbox"> Moment rÃ©confort : regarder une scÃ¨ne ou Ã©pisode prÃ©fÃ©rÃ©</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Jouer avec un objet ou souvenir spÃ©cial</div>
    <div class="task"><input type="checkbox" class="task-checkbox"> Prendre un moment juste pour soi</div>
    <div class="reward">ğŸ SÃ©rÃ©nitÃ© maximale</div>
  </div>

  <button onclick="alert('Sauvegarde ğŸ’¾')">ğŸ’¾ Sauvegarder</button>
  <footer>Tu peux revenir ici juste pour cocher une case ğŸ’›</footer>

  <!-- SCRIPT -->
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    const checkboxes = document.querySelectorAll('.task-checkbox');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const newMonthBanner = document.getElementById('new-month-banner');

    // Fonction barre de progression
    function updateProgress() {
      const total = checkboxes.length;
      const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
      const percent = Math.round((checked / total) * 100);
      progressBar.style.width = percent + '%';
      progressText.textContent = percent + '% accompli';
    }

    // Sauvegarde
    function saveProgress() {
      checkboxes.forEach((cb, index) => {
        localStorage.setItem('checkbox-' + index, cb.checked);
      });
    }

    // Chargement
    function loadProgress() {
      checkboxes.forEach((cb, index) => {
        const saved = localStorage.getItem('checkbox-' + index);
        if (saved === 'true') cb.checked = true;
      });
      updateProgress();
    }

    // Listener checkbox
    checkboxes.forEach(cb => {
      cb.addEventListener('change', () => {
        updateProgress();
        saveProgress();
      });
    });

    // RESET MENSUEL ROBUSTE
    const currentMonth = new Date().getMonth();
    const lastMonth = localStorage.getItem('lastMonth');
    if(lastMonth === null || parseInt(lastMonth) !== currentMonth){
      checkboxes.forEach((cb, index) => {
        setTimeout(() => { 
          cb.checked = false; 
          cb.parentElement.style.transition = "opacity 0.3s"; 
          cb.parentElement.style.opacity = "0.3";
          setTimeout(()=> cb.parentElement.style.opacity="1", 300);
        }, index * 50);
      });
      localStorage.setItem('lastMonth', currentMonth);
      // Reset barre
      progressBar.style.width = "0%";
      progressText.textContent = "0% accompli";

      // Confetti gros pour reset
      if(typeof confetti === "function"){
        confetti({ particleCount: 200, spread: 90, origin: { y:0.6 } });
      }

      // Affiche bandeau
      newMonthBanner.style.display = "block";
      setTimeout(()=>{ newMonthBanner.style.display="none"; }, 4000);
    }

    // Charger la sauvegarde
    loadProgress();
    updateProgress();
  });

  </script>
</body>
</html>
